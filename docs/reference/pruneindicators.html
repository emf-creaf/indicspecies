<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Determines the best subset of indicators — pruneindicators • indicspecies</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Determines the best subset of indicators — pruneindicators" />
<meta property="og:description" content="This function allows reducing drastically the number of species combinations to be retained for a given target site group." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">indicspecies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/IndicatorSpeciesAnalysis.html">Indicator Species Analysis using 'indicspecies'</a>
    </li>
    <li>
      <a href="../articles/PigeonExample.html">Usage of the niche metric functions (former 'resniche' package)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Determines the best subset of indicators</h1>
    
    <div class="hidden name"><code>pruneindicators.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows reducing drastically the number of species combinations to be retained for a given target site group.</p>
    </div>

    <pre class="usage"><span class='fu'>pruneindicators</span><span class='op'>(</span><span class='va'>x</span>, At<span class='op'>=</span><span class='fl'>0</span>, Bt<span class='op'>=</span><span class='fl'>0</span>, sqrtIVt<span class='op'>=</span><span class='fl'>0</span>, alpha <span class='op'>=</span> <span class='fl'>1.0</span>,
                max.indicators<span class='op'>=</span><span class='fl'>4</span>, verbose<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class '<code><a href='indicators.html'>indicators</a></code>'.</p></td>
    </tr>
    <tr>
      <th>At</th>
      <td><p>Threshold for positive predictive value. Combinations with lower values are not kept.</p></td>
    </tr>
    <tr>
      <th>Bt</th>
      <td><p>Threshold for sensitivity. Combinations with lower values are not kept.</p></td>
    </tr>
    <tr>
      <th>sqrtIVt</th>
      <td><p>Threshold for (square root of) indicator value. Combinations with lower values are not kept.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Threshold for statistical significance of indicator value. Combinations with higher p-values are not kept.</p></td>
    </tr>
    <tr>
      <th>max.indicators</th>
      <td><p>Maximum number of species combinations to be kept. If <code>NULL</code>, the function returns all the non-nested valid indicators without further selection.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If TRUE, prints the results of each step.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>First, the function selects those indicators (species or species combinations) with valid positive predictive value, sensitivity and indicator value, according to the input thresholds. If the object '<code>speciescomb</code>' contains confidence intervals, then the lower bounds are used to select the valid indicators. Second, the function discards those valid indicators whose occurrence pattern is nested within other valid indicators. Third, the function evaluates the <code><a href='coverage.html'>coverage</a></code> of the remaining set of indicators and explores subsets of increasing number of indicators, until the same coverage is attained and the set of indicators is returned. If the maximum allowed members is attained (<code>max.indicators</code>) then the set of indicators with maximum coverage is returned.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class '<code><a href='indicators.html'>indicators</a></code>' with only the species combinations selected.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>De Cáceres, M., Legendre, P., Wiser, S.K. and Brotons, L. 2012. Using species combinations in indicator analyses. Methods in Ecology and Evolution 3(6): 973-982.</p>
<p>De Cáceres, M. and Legendre, P. 2009. Associations between species and groups of sites: indices and statistical inference. Ecology 90(12): 3566-3574.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Miquel De Cáceres Ainsa, CTFC</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='indicators.html'>indicators</a></code>, <code><a href='coverage.html'>coverage</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>stats</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>wetland</span><span class='op'>)</span> <span class='co'>## Loads species data</span>

<span class='co'>## Creates three clusters using kmeans</span>
<span class='va'>wetkm</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>wetland</span>, centers<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span> 

<span class='co'>## Run indicator analysis with species combinations for the first group</span>
<span class='va'>sc</span><span class='op'>=</span> <span class='fu'><a href='indicators.html'>indicators</a></span><span class='op'>(</span>X<span class='op'>=</span><span class='va'>wetland</span>, cluster<span class='op'>=</span><span class='va'>wetkm</span><span class='op'>$</span><span class='va'>cluster</span>, group<span class='op'>=</span><span class='fl'>1</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span>, At<span class='op'>=</span><span class='fl'>0.5</span>, Bt<span class='op'>=</span><span class='fl'>0.2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Target site group: 1
#&gt; Number of candidate species: 33
#&gt; Number of sites: 41 
#&gt; Size of the site group: 14 
#&gt; Starting species  1 ... accepted combinations: 0 
#&gt; Starting species  2 ... accepted combinations: 0 
#&gt; Starting species  3 ... accepted combinations: 16 
#&gt; Starting species  4 ... accepted combinations: 32 
#&gt; Starting species  5 ... accepted combinations: 32 
#&gt; Starting species  6 ... accepted combinations: 79 
#&gt; Starting species  7 ... accepted combinations: 79 
#&gt; Starting species  8 ... accepted combinations: 82 
#&gt; Starting species  9 ... accepted combinations: 88 
#&gt; Starting species  10 ... accepted combinations: 88 
#&gt; Starting species  11 ... accepted combinations: 88 
#&gt; Starting species  12 ... accepted combinations: 92 
#&gt; Starting species  13 ... accepted combinations: 92 
#&gt; Starting species  14 ... accepted combinations: 92 
#&gt; Starting species  15 ... accepted combinations: 112 
#&gt; Starting species  16 ... accepted combinations: 115 
#&gt; Starting species  17 ... accepted combinations: 115 
#&gt; Starting species  18 ... accepted combinations: 115 
#&gt; Starting species  19 ... accepted combinations: 115 
#&gt; Starting species  20 ... accepted combinations: 120 
#&gt; Starting species  21 ... accepted combinations: 136 
#&gt; Starting species  22 ... accepted combinations: 139 
#&gt; Starting species  23 ... accepted combinations: 143 
#&gt; Starting species  24 ... accepted combinations: 144 
#&gt; Starting species  25 ... accepted combinations: 144 
#&gt; Starting species  26 ... accepted combinations: 144 
#&gt; Starting species  27 ... accepted combinations: 144 
#&gt; Starting species  28 ... accepted combinations: 144 
#&gt; Starting species  29 ... accepted combinations: 144 
#&gt; Starting species  30 ... accepted combinations: 144 
#&gt; Starting species  31 ... accepted combinations: 144 
#&gt; Starting species  32 ... accepted combinations: 144 
#&gt; Starting species  33 ... accepted combinations: 144 
#&gt; Number of valid combinations: 144
#&gt; Number of remaining species: 15 
#&gt; Calculating statistical significance (permutational test)...</div><div class='input'>
<span class='co'>## Finds the 'best' subset of indicators</span>
<span class='va'>sc2</span><span class='op'>=</span><span class='fu'>pruneindicators</span><span class='op'>(</span><span class='va'>sc</span>, At<span class='op'>=</span><span class='fl'>0.5</span>, Bt<span class='op'>=</span><span class='fl'>0.2</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Coverage of initial set of 144 indicators: 100%
#&gt; Coverage of valid set of 144 indicators: 100%
#&gt; Coverage of valid set of 10 nonnested indicators: 100%
#&gt; Checking 10 subsets of 1 indicator(s) maximum coverage: 100%
#&gt; Coverage of final set of 1 indicators: 100%</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>sc2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                A B    sqrtIV p.value
#&gt; Phynod 0.9473684 1 0.9733285   0.005</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Miquel De Cáceres, Florian Jansen, Noah Dell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


