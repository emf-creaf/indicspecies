<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Coverage of a set of indicators — coverage • indicspecies</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Coverage of a set of indicators — coverage"><meta name="description" content="Function coverage calculates the proportion of sites of the target site group where one or another indicator (a species or a species combination) is found. Parameters are used to select valid indicators before calculating coverage. Function plotcoverage plots the coverage against the positive predictive value threshold used to select indicators."><meta property="og:description" content="Function coverage calculates the proportion of sites of the target site group where one or another indicator (a species or a species combination) is found. Parameters are used to select valid indicators before calculating coverage. Function plotcoverage plots the coverage against the positive predictive value threshold used to select indicators."><meta property="og:image" content="https://emf-creaf.github.io/indicspecies/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">indicspecies</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.15</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/IndicatorSpeciesAnalysis.html">Indicator species analysis</a></li>
    <li><a class="dropdown-item" href="../articles/PigeonExample.html">Usage of the niche metric functions (former 'resniche' package)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/indicspecies/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Coverage of a set of indicators</h1>
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/indicspecies/blob/HEAD/R/coverage.R" class="external-link"><code>R/coverage.R</code></a>, <a href="https://github.com/emf-creaf/indicspecies/blob/HEAD/R/plotcoverage.R" class="external-link"><code>R/plotcoverage.R</code></a></small>
      <div class="d-none name"><code>coverage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function <code>coverage</code> calculates the proportion of sites of the target site group where one or another indicator (a species or a species combination) is found. Parameters are used to select valid indicators before calculating coverage. Function <code>plotcoverage</code> plots the coverage against the positive predictive value threshold used to select indicators.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coverage</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  selection <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minstat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  At <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Bt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"stat"</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plotcoverage</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"stat"</span>,</span>
<span>  max.order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">A</span><span class="op">[</span><span class="va">t</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class '<code><a href="indicators.html">indicators</a></code>' or a community data table with sites in rows and species in columns (in this second case, an object of class '<code><a href="multipatt.html">multipatt</a></code>' must be supplied for <code>y</code>).</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>An object of class '<code><a href="multipatt.html">multipatt</a></code>'.</p></dd>


<dt id="arg-selection">selection<a class="anchor" aria-label="anchor" href="#arg-selection"></a></dt>
<dd><p>A logical vector restricting the set of indicators used to calculate the coverage.</p></dd>


<dt id="arg-minstat">minstat<a class="anchor" aria-label="anchor" href="#arg-minstat"></a></dt>
<dd><p>Minimum value of the statistic for selecting indicators.</p></dd>


<dt id="arg-at">At<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>Minimum value of positive predictive value (A) for selecting indicators.</p></dd>


<dt id="arg-bt">Bt<a class="anchor" aria-label="anchor" href="#arg-bt"></a></dt>
<dd><p>Minimum value for sensitivity (B) for selecting indicators.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Specifies how to select indicators: (1) using the value of the statistic (<code>type = "stat"</code>);
(2) the lower bound of its confidence interval (<code>type = "lowerCI"</code>);
or (3) the upper bound of its confidence interval (<code>type = "upperCI"</code>).
This parameter makes sense when the function is called using objects of class '<code>indicators</code>'
and bootstrap confidence intervals are available for this object. Otherwise <code>type</code> has no
effect and the value of the statistic is used for selection. In function <code>coverage</code>,
the value of <code>type</code> applies to selection using <code>minstat</code>, <code>At</code> and <code>Bt</code>.
In function <code>plotcoverage</code>, the value of <code>type</code> applies to selection using <code>At</code>.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Significance level for selecting indicators.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Rate of increase in the predictive value threshold (At).</p></dd>


<dt id="arg-max-order">max.order<a class="anchor" aria-label="anchor" href="#arg-max-order"></a></dt>
<dd><p>The maximum number of species conforming species combinations (allows examining the effects of increasing the order of combinations).This parameter is only used when the function is called using objects of class '<code>indicators</code>'.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Either an integer or a character string indicating the site group or site group combination for which plot is desired. This parameter is only used when the function is called using objects of class '<code>multipatt</code>'.</p></dd>


<dt id="arg-add">add<a class="anchor" aria-label="anchor" href="#arg-add"></a></dt>
<dd><p>Flag indicating whether the function should draw on the existing plot.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Label for the x-axis.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional plotting parameters that are passed to the <code>plot</code> function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>When used with an object of class '<code>indicators</code>', function <code>coverage</code> returns the proportion of sites of the target site group where one or another indicator (species combination) is found. When used with an object of class '<code>indicators</code>', function <code>coverage</code> returns a vector containing the coverage value for each site group or site group combination.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>coverage</code> of a set of indicators was defined in De Cáceres et al. (2012) as the proportion of sites in a given site group where one or several indicators are found. This value allows assessing how often the site group will be able to be determined. If all indicators of a site group are rare, then the indication system will not be useful, regardless of how much restricted to the site group the indicators are. The coverage value is a generalization of quantity B of IndVal, that applies to a group of indicators instead of a single one. Function <code>plotcoverage</code> plots the coverage against the positive predictive value threshold (At) used to select indicators, as in De Cáceres et al. (2012). Functions <code>coverage</code> and <code>plotcoverage</code> can be executed using either an object of class '<code>indicators</code>', or an object of class '<code>multipatt</code>'. However, the parameters that apply to each case are slightly different. When using <code>coverage</code> and <code>plotcoverage</code> on objects of class '<code>multipatt</code>' one is expected to calculate the coverage for those indicators that are significant (see <code>alpha</code> parameter), although other constraints to select valid indicators can be used. When using <code>coverage</code> and <code>plotcoverage</code> on objects of class '<code>indicators</code>' one is expected to calculate the coverage for indicators that have values of A larger than a specified threshold (see <code>At</code> parameter). In this latter case, it may be advisable to use <code>stat="lowerCI"</code>, so that indicators with broad confidence intervals are not included in the selection.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>De Cáceres, M., Legendre, P., Wiser, S.K. and Brotons, L. 2012. Using species combinations in indicator analyses. Methods in Ecology and Evolution 3(6): 973-982.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="indicators.html">indicators</a></code>, <code><a href="multipatt.html">multipatt</a></code>, <code><a href="pruneindicators.html">pruneindicators</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miquel De Cáceres Ainsa, EMF-CREAF</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span> <span class="co">## Loads species data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Creates three clusters using kmeans</span></span></span>
<span class="r-in"><span><span class="va">wetkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="va">wetland</span>, centers<span class="op">=</span><span class="fl">3</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Run indicator analysis with species combinations for the first group</span></span></span>
<span class="r-in"><span><span class="va">sc</span> <span class="op">&lt;-</span> <span class="fu"><a href="indicators.html">indicators</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">wetland</span>, cluster<span class="op">=</span><span class="va">wetkm</span><span class="op">$</span><span class="va">cluster</span>, group<span class="op">=</span><span class="fl">1</span>, verbose<span class="op">=</span><span class="cn">TRUE</span>, At<span class="op">=</span><span class="fl">0.5</span>, Bt<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Target site group: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of candidate species: 33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of sites: 41 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Size of the site group: 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  1 ... accepted combinations: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  2 ... accepted combinations: 16 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  3 ... accepted combinations: 16 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  4 ... accepted combinations: 87 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  5 ... accepted combinations: 87 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  6 ... accepted combinations: 133 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  7 ... accepted combinations: 133 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  8 ... accepted combinations: 153 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  9 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  10 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  11 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  12 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  13 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  14 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  15 ... accepted combinations: 155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  16 ... accepted combinations: 160 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  17 ... accepted combinations: 161 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  18 ... accepted combinations: 170 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  19 ... accepted combinations: 170 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  20 ... accepted combinations: 172 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  21 ... accepted combinations: 172 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  22 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  23 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  24 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  25 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  26 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  27 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  28 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  29 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  30 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  31 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  32 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  33 ... accepted combinations: 173 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of valid combinations: 173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of remaining species: 13 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calculating statistical significance (permutational test)...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Determine the coverage of the selected set of indicators</span></span></span>
<span class="r-in"><span><span class="fu">coverage</span><span class="op">(</span><span class="va">sc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plot the coverage against the threshold At</span></span></span>
<span class="r-in"><span><span class="fu">plotcoverage</span><span class="op">(</span><span class="va">sc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plotcoverage</span><span class="op">(</span><span class="va">sc</span>, max.order<span class="op">=</span><span class="fl">2</span>, add<span class="op">=</span><span class="cn">TRUE</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coverage-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Runs the combination analysis using IndVal.g as statistic</span></span></span>
<span class="r-in"><span><span class="va">wetpt</span> <span class="op">&lt;-</span> <span class="fu"><a href="multipatt.html">multipatt</a></span><span class="op">(</span><span class="va">wetland</span>, <span class="va">wetkm</span><span class="op">$</span><span class="va">cluster</span>, control <span class="op">=</span> <span class="fu">how</span><span class="op">(</span>nperm<span class="op">=</span><span class="fl">999</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co">## Determines the coverage for each site group combination</span></span></span>
<span class="r-in"><span><span class="fu">coverage</span><span class="op">(</span><span class="va">wetland</span>, <span class="va">wetpt</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1         2         3       1+2       1+3       2+3     1+2+3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.0000000 1.0000000 1.0000000 0.8750000 0.0000000 0.7741935 0.0000000 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Florian Jansen, Noah Dell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

