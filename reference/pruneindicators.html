<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Determines the best subset of indicators — pruneindicators • indicspecies</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Determines the best subset of indicators — pruneindicators"><meta name="description" content="This function allows reducing drastically the number of species combinations to be retained for a given target site group."><meta property="og:description" content="This function allows reducing drastically the number of species combinations to be retained for a given target site group."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">indicspecies</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/IndicatorSpeciesAnalysis.html">Indicator Species Analysis using 'indicspecies'</a></li>
    <li><a class="dropdown-item" href="../articles/PigeonExample.html">Usage of the niche metric functions (former 'resniche' package)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Determines the best subset of indicators</h1>

      <div class="d-none name"><code>pruneindicators.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows reducing drastically the number of species combinations to be retained for a given target site group.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pruneindicators</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  At <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  Bt <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  sqrtIVt <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max.indicators <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class '<code><a href="indicators.html">indicators</a></code>'.</p></dd>


<dt id="arg-at">At<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>Threshold for positive predictive value. Combinations with lower values are not kept.</p></dd>


<dt id="arg-bt">Bt<a class="anchor" aria-label="anchor" href="#arg-bt"></a></dt>
<dd><p>Threshold for sensitivity. Combinations with lower values are not kept.</p></dd>


<dt id="arg-sqrtivt">sqrtIVt<a class="anchor" aria-label="anchor" href="#arg-sqrtivt"></a></dt>
<dd><p>Threshold for (square root of) indicator value. Combinations with lower values are not kept.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Threshold for statistical significance of indicator value. Combinations with higher p-values are not kept.</p></dd>


<dt id="arg-max-indicators">max.indicators<a class="anchor" aria-label="anchor" href="#arg-max-indicators"></a></dt>
<dd><p>Maximum number of species combinations to be kept. If <code>NULL</code>, the function returns all the non-nested valid indicators without further selection.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>If TRUE, prints the results of each step.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class '<code><a href="indicators.html">indicators</a></code>' with only the species combinations selected.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>First, the function selects those indicators (species or species combinations) with valid positive predictive value, sensitivity and indicator value, according to the input thresholds. If the object '<code>speciescomb</code>' contains confidence intervals, then the lower bounds are used to select the valid indicators. Second, the function discards those valid indicators whose occurrence pattern is nested within other valid indicators. Third, the function evaluates the <code><a href="coverage.html">coverage</a></code> of the remaining set of indicators and explores subsets of increasing number of indicators, until the same coverage is attained and the set of indicators is returned. If the maximum allowed members is attained (<code>max.indicators</code>) then the set of indicators with maximum coverage is returned.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>De Cáceres, M., Legendre, P., Wiser, S.K. and Brotons, L. 2012. Using species combinations in indicator analyses. Methods in Ecology and Evolution 3(6): 973-982.</p>
<p>De Cáceres, M. and Legendre, P. 2009. Associations between species and groups of sites: indices and statistical inference. Ecology 90(12): 3566-3574.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="indicators.html">indicators</a></code>, <code><a href="coverage.html">coverage</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miquel De Cáceres Ainsa, EMF-CREAF</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span> <span class="co">## Loads species data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Creates three clusters using kmeans</span></span></span>
<span class="r-in"><span><span class="va">wetkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="va">wetland</span>, centers<span class="op">=</span><span class="fl">3</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Run indicator analysis with species combinations for the first group</span></span></span>
<span class="r-in"><span><span class="va">sc</span> <span class="op">&lt;-</span> <span class="fu"><a href="indicators.html">indicators</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">wetland</span>, cluster<span class="op">=</span><span class="va">wetkm</span><span class="op">$</span><span class="va">cluster</span>, group<span class="op">=</span><span class="fl">1</span>, verbose<span class="op">=</span><span class="cn">TRUE</span>, At<span class="op">=</span><span class="fl">0.5</span>, Bt<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Target site group: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of candidate species: 33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of sites: 41 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Size of the site group: 14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  1 ... accepted combinations: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  2 ... accepted combinations: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  3 ... accepted combinations: 16 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  4 ... accepted combinations: 32 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  5 ... accepted combinations: 32 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  6 ... accepted combinations: 79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  7 ... accepted combinations: 79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  8 ... accepted combinations: 82 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  9 ... accepted combinations: 88 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  10 ... accepted combinations: 88 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  11 ... accepted combinations: 88 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  12 ... accepted combinations: 92 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  13 ... accepted combinations: 92 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  14 ... accepted combinations: 92 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  15 ... accepted combinations: 112 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  16 ... accepted combinations: 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  17 ... accepted combinations: 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  18 ... accepted combinations: 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  19 ... accepted combinations: 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  20 ... accepted combinations: 120 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  21 ... accepted combinations: 136 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  22 ... accepted combinations: 139 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  23 ... accepted combinations: 143 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  24 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  25 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  26 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  27 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  28 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  29 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  30 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  31 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  32 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting species  33 ... accepted combinations: 144 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of valid combinations: 144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of remaining species: 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calculating statistical significance (permutational test)...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Finds the 'best' subset of indicators</span></span></span>
<span class="r-in"><span><span class="va">sc2</span> <span class="op">&lt;-</span> <span class="fu">pruneindicators</span><span class="op">(</span><span class="va">sc</span>, At<span class="op">=</span><span class="fl">0.5</span>, Bt<span class="op">=</span><span class="fl">0.2</span>, verbose<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coverage of initial set of 144 indicators: 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coverage of valid set of 144 indicators: 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coverage of valid set of 10 nonnested indicators: 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking 10 subsets of 1 indicator(s) maximum coverage: 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coverage of final set of 1 indicators: 100%</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sc2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                A B    sqrtIV p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Phynod 0.9473684 1 0.9733285   0.005</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Florian Jansen, Noah Dell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

